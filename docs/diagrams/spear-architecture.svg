<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 13.1.2 (20250808.2320)
 -->
<!-- Title: spear_architecture Pages: 1 -->
<svg width="960pt" height="395pt"
 viewBox="0.00 0.00 960.00 395.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(14.4 380.15)">
<title>spear_architecture</title>
<text xml:space="preserve" text-anchor="middle" x="465.47" y="-344.65" font-family="Helvetica,sans-Serif" font-size="18.00">SPEAR Next (High&#45;level Architecture)</text>
<g id="clust1" class="cluster">
<title>cluster_ui</title>
<path fill="none" stroke="#4f46e5" d="M20,-236C20,-236 216.1,-236 216.1,-236 222.1,-236 228.1,-242 228.1,-248 228.1,-248 228.1,-315 228.1,-315 228.1,-321 222.1,-327 216.1,-327 216.1,-327 20,-327 20,-327 14,-327 8,-321 8,-315 8,-315 8,-248 8,-248 8,-242 14,-236 20,-236"/>
<text xml:space="preserve" text-anchor="middle" x="118.05" y="-305.9" font-family="Helvetica,sans-Serif" font-size="18.00" fill="#312e81">Experience</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_control</title>
<path fill="none" stroke="#0284c7" d="M282.1,-225C282.1,-225 553.8,-225 553.8,-225 559.8,-225 565.8,-231 565.8,-237 565.8,-237 565.8,-319 565.8,-319 565.8,-325 559.8,-331 553.8,-331 553.8,-331 282.1,-331 282.1,-331 276.1,-331 270.1,-325 270.1,-319 270.1,-319 270.1,-237 270.1,-237 270.1,-231 276.1,-225 282.1,-225"/>
<text xml:space="preserve" text-anchor="middle" x="417.95" y="-309.9" font-family="Helvetica,sans-Serif" font-size="18.00" fill="#0c4a6e">Control Plane</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_node</title>
<path fill="none" stroke="#10b981" d="M452.45,-111C452.45,-111 748.9,-111 748.9,-111 754.9,-111 760.9,-117 760.9,-123 760.9,-123 760.9,-205 760.9,-205 760.9,-211 754.9,-217 748.9,-217 748.9,-217 452.45,-217 452.45,-217 446.45,-217 440.45,-211 440.45,-205 440.45,-205 440.45,-123 440.45,-123 440.45,-117 446.45,-111 452.45,-111"/>
<text xml:space="preserve" text-anchor="middle" x="600.67" y="-195.9" font-family="Helvetica,sans-Serif" font-size="18.00" fill="#065f46">Worker Node</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_services</title>
<path fill="none" stroke="#f97316" d="M814.9,-8C814.9,-8 913.4,-8 913.4,-8 919.4,-8 925.4,-14 925.4,-20 925.4,-20 925.4,-308 925.4,-308 925.4,-314 919.4,-320 913.4,-320 913.4,-320 814.9,-320 814.9,-320 808.9,-320 802.9,-314 802.9,-308 802.9,-308 802.9,-20 802.9,-20 802.9,-14 808.9,-8 814.9,-8"/>
<text xml:space="preserve" text-anchor="middle" x="864.15" y="-298.9" font-family="Helvetica,sans-Serif" font-size="18.00" fill="#7c2d12">LLMs &amp; Tools</text>
</g>
<!-- user -->
<g id="node1" class="node">
<title>user</title>
<path fill="#eef2ff" stroke="#4f46e5" d="M58,-292.07C58,-292.07 28,-292.07 28,-292.07 22,-292.07 16,-286.07 16,-280.07 16,-280.07 16,-255.93 16,-255.93 16,-249.93 22,-243.93 28,-243.93 28,-243.93 58,-243.93 58,-243.93 64,-243.93 70,-249.93 70,-255.93 70,-255.93 70,-280.07 70,-280.07 70,-286.07 64,-292.07 58,-292.07"/>
<text xml:space="preserve" text-anchor="middle" x="43" y="-271.57" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#111827">ğŸ§‘</text>
<text xml:space="preserve" text-anchor="middle" x="43" y="-252.82" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#111827">User</text>
</g>
<!-- web_admin -->
<g id="node2" class="node">
<title>web_admin</title>
<path fill="#eef2ff" stroke="#4f46e5" d="M208.1,-292.07C208.1,-292.07 140,-292.07 140,-292.07 134,-292.07 128,-286.07 128,-280.07 128,-280.07 128,-255.93 128,-255.93 128,-249.93 134,-243.93 140,-243.93 140,-243.93 208.1,-243.93 208.1,-243.93 214.1,-243.93 220.1,-249.93 220.1,-255.93 220.1,-255.93 220.1,-280.07 220.1,-280.07 220.1,-286.07 214.1,-292.07 208.1,-292.07"/>
<text xml:space="preserve" text-anchor="middle" x="174.05" y="-271.57" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#111827">ğŸ“Š</text>
<text xml:space="preserve" text-anchor="middle" x="174.05" y="-252.82" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#111827">Web Admin</text>
</g>
<!-- user&#45;&gt;web_admin -->
<g id="edge1" class="edge">
<title>user&#45;&gt;web_admin</title>
<path fill="none" stroke="#6366f1" stroke-width="1.1" d="M70.33,-272.23C83.11,-273.62 95.17,-273.56 119,-272.05"/>
<polygon fill="#6366f1" stroke="#6366f1" stroke-width="1.1" points="126.21,-271.57 118.95,-275.43 123.81,-271.78 118.73,-272.11 118.73,-272.06 118.73,-272.01 123.8,-271.68 118.5,-268.7 126.21,-271.57"/>
<text xml:space="preserve" text-anchor="middle" x="115.4" y="-268.04" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#312e81">opens</text>
</g>
<!-- sms -->
<g id="node3" class="node">
<title>sms</title>
<path fill="#e0f2fe" stroke="#0284c7" d="M378.45,-296.57C378.45,-296.57 290.1,-296.57 290.1,-296.57 284.1,-296.57 278.1,-290.57 278.1,-284.57 278.1,-284.57 278.1,-245.43 278.1,-245.43 278.1,-239.43 284.1,-233.43 290.1,-233.43 290.1,-233.43 378.45,-233.43 378.45,-233.43 384.45,-233.43 390.45,-239.43 390.45,-245.43 390.45,-245.43 390.45,-284.57 390.45,-284.57 390.45,-290.57 384.45,-296.57 378.45,-296.57"/>
<text xml:space="preserve" text-anchor="middle" x="334.27" y="-276.07" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#0c4a6e">ğŸ§­</text>
<text xml:space="preserve" text-anchor="middle" x="334.27" y="-257.32" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#0c4a6e">SMS</text>
<text xml:space="preserve" text-anchor="middle" x="334.27" y="-242.32" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#0c4a6e">(Control Plane)</text>
</g>
<!-- user&#45;&gt;sms -->
<g id="edge3" class="edge">
<title>user&#45;&gt;sms</title>
<path fill="none" stroke="#38bdf8" stroke-width="1.1" d="M70.31,-273.27C127.07,-283.82 149.64,-283.75 269.03,-271.7"/>
<polygon fill="#38bdf8" stroke="#38bdf8" stroke-width="1.1" points="276.46,-270.95 269.34,-275.06 274.07,-271.24 269.01,-271.76 269,-271.71 269,-271.66 274.06,-271.14 268.66,-268.35 276.46,-270.95"/>
<text xml:space="preserve" text-anchor="middle" x="150.89" y="-281.31" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#0c4a6e">API / CLI</text>
</g>
<!-- web_admin&#45;&gt;sms -->
<g id="edge2" class="edge">
<title>web_admin&#45;&gt;sms</title>
<path fill="none" stroke="#38bdf8" stroke-width="1.1" d="M220.43,-276.32C232.91,-277.04 246.88,-276.15 269.21,-273.54"/>
<polygon fill="#38bdf8" stroke="#38bdf8" stroke-width="1.1" points="276.49,-272.66 269.45,-276.91 274.1,-273 269.05,-273.61 269.04,-273.56 269.04,-273.51 274.09,-272.9 268.64,-270.21 276.49,-272.66"/>
<text xml:space="preserve" text-anchor="middle" x="219.65" y="-276.94" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#0c4a6e">create / run</text>
</g>
<!-- tasks -->
<g id="node4" class="node">
<title>tasks</title>
<path fill="#e0f2fe" stroke="#0284c7" d="M545.8,-289.07C545.8,-289.07 468.7,-289.07 468.7,-289.07 462.7,-289.07 456.7,-283.07 456.7,-277.07 456.7,-277.07 456.7,-252.93 456.7,-252.93 456.7,-246.93 462.7,-240.93 468.7,-240.93 468.7,-240.93 545.8,-240.93 545.8,-240.93 551.8,-240.93 557.8,-246.93 557.8,-252.93 557.8,-252.93 557.8,-277.07 557.8,-277.07 557.8,-283.07 551.8,-289.07 545.8,-289.07"/>
<text xml:space="preserve" text-anchor="middle" x="507.25" y="-268.57" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#0c4a6e">ğŸ“¦</text>
<text xml:space="preserve" text-anchor="middle" x="507.25" y="-249.82" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#0c4a6e">Tasks &amp; Files</text>
</g>
<!-- sms&#45;&gt;tasks -->
<g id="edge4" class="edge">
<title>sms&#45;&gt;tasks</title>
<path fill="none" stroke="#38bdf8" stroke-width="1.1" d="M390.91,-286.43C407.99,-290.15 423.31,-288.86 447.93,-282.55"/>
<polygon fill="#38bdf8" stroke="#38bdf8" stroke-width="1.1" points="454.97,-280.67 448.6,-285.87 452.66,-281.34 447.74,-282.65 447.73,-282.61 447.71,-282.56 452.63,-281.25 446.86,-279.34 454.97,-280.67"/>
<text xml:space="preserve" text-anchor="middle" x="407.9" y="-276.07" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#0c4a6e">stores</text>
</g>
<!-- spearlet -->
<g id="node5" class="node">
<title>spearlet</title>
<path fill="#d1fae5" stroke="#10b981" d="M554.05,-182.57C554.05,-182.57 460.45,-182.57 460.45,-182.57 454.45,-182.57 448.45,-176.57 448.45,-170.57 448.45,-170.57 448.45,-131.42 448.45,-131.42 448.45,-125.42 454.45,-119.42 460.45,-119.42 460.45,-119.42 554.05,-119.42 554.05,-119.42 560.05,-119.42 566.05,-125.42 566.05,-131.42 566.05,-131.42 566.05,-170.57 566.05,-170.57 566.05,-176.57 560.05,-182.57 554.05,-182.57"/>
<text xml:space="preserve" text-anchor="middle" x="507.25" y="-162.07" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#065f46">âš™ï¸</text>
<text xml:space="preserve" text-anchor="middle" x="507.25" y="-143.32" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#065f46">SPEARlet</text>
<text xml:space="preserve" text-anchor="middle" x="507.25" y="-128.32" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#065f46">(Node Runtime)</text>
</g>
<!-- sms&#45;&gt;spearlet -->
<g id="edge5" class="edge">
<title>sms&#45;&gt;spearlet</title>
<path fill="none" stroke="#34d399" stroke-width="1.1" d="M397.53,-228.07C411.55,-218.82 428.88,-206.73 455.35,-187.95"/>
<polygon fill="#34d399" stroke="#34d399" stroke-width="1.1" points="396.15,-225.83 391.3,-232.12 399.02,-230.23 396.15,-225.83"/>
<polygon fill="#34d399" stroke="#34d399" stroke-width="1.1" points="461.19,-183.8 457.03,-190.9 459.25,-185.24 455.1,-188.19 455.07,-188.14 455.04,-188.1 459.19,-185.16 453.12,-185.39 461.19,-183.8"/>
<text xml:space="preserve" text-anchor="middle" x="381.99" y="-200.2" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#065f46">gRPC</text>
<text xml:space="preserve" text-anchor="middle" x="381.99" y="-187.45" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#065f46">assign + status</text>
</g>
<!-- agent -->
<g id="node6" class="node">
<title>agent</title>
<path fill="#d1fae5" stroke="#10b981" d="M740.9,-182.57C740.9,-182.57 636.05,-182.57 636.05,-182.57 630.05,-182.57 624.05,-176.57 624.05,-170.57 624.05,-170.57 624.05,-131.42 624.05,-131.42 624.05,-125.42 630.05,-119.42 636.05,-119.42 636.05,-119.42 740.9,-119.42 740.9,-119.42 746.9,-119.42 752.9,-125.42 752.9,-131.42 752.9,-131.42 752.9,-170.57 752.9,-170.57 752.9,-176.57 746.9,-182.57 740.9,-182.57"/>
<text xml:space="preserve" text-anchor="middle" x="688.48" y="-162.07" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#065f46">ğŸ¤–</text>
<text xml:space="preserve" text-anchor="middle" x="688.48" y="-143.32" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#065f46">AI Agent (WASM)</text>
<text xml:space="preserve" text-anchor="middle" x="688.48" y="-128.32" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#065f46">(Your Logic)</text>
</g>
<!-- spearlet&#45;&gt;agent -->
<g id="edge6" class="edge">
<title>spearlet&#45;&gt;agent</title>
<path fill="none" stroke="#34d399" stroke-width="1.1" d="M566.26,-148.71C587.21,-147.94 602.6,-147.47 615.09,-147.31"/>
<polygon fill="#34d399" stroke="#34d399" stroke-width="1.1" points="622.38,-147.25 614.9,-150.68 619.97,-147.32 614.88,-147.36 614.88,-147.31 614.88,-147.26 619.97,-147.22 614.85,-143.93 622.38,-147.25"/>
<text xml:space="preserve" text-anchor="middle" x="583.34" y="-136.35" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#065f46">runs</text>
</g>
<!-- openai -->
<g id="node7" class="node">
<title>openai</title>
<path fill="#fff7ed" stroke="#f97316" d="M899.95,-79.58C899.95,-79.58 827.35,-79.58 827.35,-79.58 821.35,-79.58 815.35,-73.58 815.35,-67.58 815.35,-67.58 815.35,-28.42 815.35,-28.42 815.35,-22.42 821.35,-16.43 827.35,-16.43 827.35,-16.43 899.95,-16.43 899.95,-16.43 905.95,-16.43 911.95,-22.43 911.95,-28.43 911.95,-28.43 911.95,-67.58 911.95,-67.58 911.95,-73.58 905.95,-79.58 899.95,-79.58"/>
<text xml:space="preserve" text-anchor="middle" x="863.65" y="-59.08" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#7c2d12">â˜ï¸</text>
<text xml:space="preserve" text-anchor="middle" x="863.65" y="-40.33" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#7c2d12">OpenAI</text>
<text xml:space="preserve" text-anchor="middle" x="863.65" y="-25.32" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#7c2d12">(Cloud LLM)</text>
</g>
<!-- agent&#45;&gt;openai -->
<g id="edge7" class="edge">
<title>agent&#45;&gt;openai</title>
<path fill="none" stroke="#fb923c" stroke-width="1.1" d="M753.17,-120.09C785.5,-104.39 803.64,-94.78 818.44,-84.89"/>
<polygon fill="#fb923c" stroke="#fb923c" stroke-width="1.1" points="824.39,-80.75 820.17,-87.8 822.44,-82.17 818.27,-85.08 818.24,-85.03 818.21,-84.99 822.39,-82.08 816.31,-82.27 824.39,-80.75"/>
<text xml:space="preserve" text-anchor="middle" x="783.07" y="-88.88" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#7c2d12">ask</text>
</g>
<!-- ollama -->
<g id="node8" class="node">
<title>ollama</title>
<path fill="#fff7ed" stroke="#f97316" d="M898.45,-182.57C898.45,-182.57 828.85,-182.57 828.85,-182.57 822.85,-182.57 816.85,-176.57 816.85,-170.57 816.85,-170.57 816.85,-131.42 816.85,-131.42 816.85,-125.42 822.85,-119.42 828.85,-119.42 828.85,-119.42 898.45,-119.42 898.45,-119.42 904.45,-119.42 910.45,-125.42 910.45,-131.42 910.45,-131.42 910.45,-170.57 910.45,-170.57 910.45,-176.57 904.45,-182.57 898.45,-182.57"/>
<text xml:space="preserve" text-anchor="middle" x="863.65" y="-162.07" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#7c2d12">ğŸ§ </text>
<text xml:space="preserve" text-anchor="middle" x="863.65" y="-143.32" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#7c2d12">Ollama</text>
<text xml:space="preserve" text-anchor="middle" x="863.65" y="-128.32" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#7c2d12">(Local LLM)</text>
</g>
<!-- agent&#45;&gt;ollama -->
<g id="edge8" class="edge">
<title>agent&#45;&gt;ollama</title>
<path fill="none" stroke="#fb923c" stroke-width="1.1" d="M753.14,-149.93C778.5,-149.55 794.8,-149.39 808.22,-149.45"/>
<polygon fill="#fb923c" stroke="#fb923c" stroke-width="1.1" points="815.34,-149.51 807.81,-152.82 812.93,-149.54 807.84,-149.5 807.84,-149.45 807.84,-149.4 812.93,-149.44 807.87,-146.07 815.34,-149.51"/>
<text xml:space="preserve" text-anchor="middle" x="775.99" y="-138.12" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#7c2d12">ask</text>
</g>
<!-- mcp -->
<g id="node9" class="node">
<title>mcp</title>
<path fill="#f5f3ff" stroke="#7c3aed" d="M902.95,-285.57C902.95,-285.57 824.35,-285.57 824.35,-285.57 818.35,-285.57 812.35,-279.57 812.35,-273.57 812.35,-273.57 812.35,-234.43 812.35,-234.43 812.35,-228.43 818.35,-222.43 824.35,-222.43 824.35,-222.43 902.95,-222.43 902.95,-222.43 908.95,-222.43 914.95,-228.43 914.95,-234.43 914.95,-234.43 914.95,-273.57 914.95,-273.57 914.95,-279.57 908.95,-285.57 902.95,-285.57"/>
<text xml:space="preserve" text-anchor="middle" x="863.65" y="-265.07" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#2e1065">ğŸ§°</text>
<text xml:space="preserve" text-anchor="middle" x="863.65" y="-246.32" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#2e1065">MCP Servers</text>
<text xml:space="preserve" text-anchor="middle" x="863.65" y="-231.32" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#2e1065">(Tools)</text>
</g>
<!-- agent&#45;&gt;mcp -->
<g id="edge9" class="edge">
<title>agent&#45;&gt;mcp</title>
<path fill="none" stroke="#a78bfa" stroke-width="1.1" d="M753.07,-179.39C789.08,-195.59 807.61,-205.21 823.24,-216.84"/>
<polygon fill="#a78bfa" stroke="#a78bfa" stroke-width="1.1" points="828.74,-221.14 820.75,-219.18 826.81,-219.69 822.8,-216.56 822.83,-216.52 822.86,-216.48 826.87,-219.62 824.91,-213.86 828.74,-221.14"/>
<text xml:space="preserve" text-anchor="middle" x="771.83" y="-188.45" font-family="Helvetica,sans-Serif" font-size="12.00" fill="#2e1065">use tools</text>
</g>
</g>
</svg>
